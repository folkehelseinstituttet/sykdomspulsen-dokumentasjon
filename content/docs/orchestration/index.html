---
date: 2019-02-11
draft: false
summary: Task orchestration
title: Orchestration
weight: 5
editor_options: 
  chunk_output_type: console
---



<div id="a-new-r-package" class="section level2">
<h2>A new R package</h2>
<p>As mentioned in the “Examples” section, schemas need to be added via <code>sc::add_schema</code> and tasks need to be added via <code>sc::add_task</code>. It is easiest to create a new R package (e.g. <code>sykdomspulsen</code>) and include all schema/task creation code in an <code>onAttach</code> function (<a href="http://r-pkgs.had.co.nz/r.html" class="uri">http://r-pkgs.had.co.nz/r.html</a>), which means that any <code>sykdomspulsen::</code> call will automatically have all schema/task creation code run automatically.</p>
<p>We then create a function <code>sykdomspulsen::tm_run_task</code> which is a wrapper around <code>sc::tm_run_task</code>, with all schema/task creation code run automatically.</p>
<p>This means that we can then run tasks from the console (outside of R):</p>
<pre><code>RScript -e &#39;sykdomspulsen::tm_run_task(&quot;example_data&quot;)&#39;</code></pre>
</div>
<div id="airflow" class="section level2">
<h2>Airflow</h2>
<p>We recommend using <a href="https://airflow.apache.org/" class="uri">https://airflow.apache.org/</a> to orchestrate tasks.</p>
<p>Here is an example workflow, with each task represented as a rectangle.</p>
<p><img src="airflow.png" /></p>
</div>
